<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/node-feature-discovery/master/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/node-feature-discovery/master/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li:not(:nth-child(1)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(3) > ul > li:nth-child(1) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(3) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(3) > ul > li:nth-child(1) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(3) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(3) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list { display: block; } </style> <script src="/node-feature-discovery/master/assets/js/vendor/lunr.min.js"></script> <script src="/node-feature-discovery/master/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Feature labels | Node Feature Discovery</title> <meta name="generator" content="Jekyll v3.10.0" /> <meta property="og:title" content="Feature labels" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Documentation of Node Feature Discovery - a Kubernetes add-on for discovering and advertising hardware features and system configuration in the cluster." /> <meta property="og:description" content="Documentation of Node Feature Discovery - a Kubernetes add-on for discovering and advertising hardware features and system configuration in the cluster." /> <link rel="canonical" href="https://kubernetes-sigs.github.com/node-feature-discovery/master/usage/features.html" /> <meta property="og:url" content="https://kubernetes-sigs.github.com/node-feature-discovery/master/usage/features.html" /> <meta property="og:site_name" content="Node Feature Discovery" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Feature labels" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Documentation of Node Feature Discovery - a Kubernetes add-on for discovering and advertising hardware features and system configuration in the cluster.","headline":"Feature labels","url":"https://kubernetes-sigs.github.com/node-feature-discovery/master/usage/features.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/node-feature-discovery/master/" class="site-title lh-tight"> Node Feature Discovery </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Get started category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/node-feature-discovery/master/get-started/" class="nav-list-link">Get started</a><ul class="nav-list"><li class="nav-list-item"><a href="/node-feature-discovery/master/get-started/introduction.html" class="nav-list-link">Introduction</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/get-started/quick-start.html" class="nav-list-link">Quick start</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Deployment category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/node-feature-discovery/master/deployment/" class="nav-list-link">Deployment</a><ul class="nav-list"><li class="nav-list-item"><a href="/node-feature-discovery/master/deployment/image-variants.html" class="nav-list-link">Image variants</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/deployment/kustomize.html" class="nav-list-link">Kustomize</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/deployment/helm.html" class="nav-list-link">Helm</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/deployment/operator.html" class="nav-list-link">NFD Operator</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/deployment/uninstallation.html" class="nav-list-link">Uninstallation</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/deployment/metrics.html" class="nav-list-link">Metrics</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Usage category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/node-feature-discovery/master/usage/" class="nav-list-link">Usage</a><ul class="nav-list"><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/features.html" class="nav-list-link">Feature labels</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/using-labels.html" class="nav-list-link">Using node labels</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/nfd-master.html" class="nav-list-link">NFD-Master</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/nfd-worker.html" class="nav-list-link">NFD-Worker</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/nfd-topology-updater.html" class="nav-list-link">NFD-Topology-Updater</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/nfd-gc.html" class="nav-list-link">NFD-Garbage-Collector</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/custom-resources.html" class="nav-list-link">CRDs</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/customization-guide.html" class="nav-list-link">Customization guide</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/examples-and-demos.html" class="nav-list-link">Examples and demos</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/kubectl-plugin.html" class="nav-list-link">Kubectl plugin</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/image-compatibility.html" class="nav-list-link">Image Compatibility Artifact</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Reference category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/node-feature-discovery/master/reference/" class="nav-list-link">Reference</a><ul class="nav-list"><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/master-commandline-reference.html" class="nav-list-link">Master cmdline reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/worker-commandline-reference.html" class="nav-list-link">Worker cmdline reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/master-configuration-reference.html" class="nav-list-link">Master config reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/worker-configuration-reference.html" class="nav-list-link">Worker config reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/topology-updater-commandline-reference.html" class="nav-list-link">Topology Updater Cmdline Reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/topology-updater-configuration-reference.html" class="nav-list-link">Topology-Updater config reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/gc-commandline-reference.html" class="nav-list-link">Garbage Collector Cmdline Reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/plugin-commandline-reference.html" class="nav-list-link">Kubectl plugin cmdline reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/node-feature-client-reference.html" class="nav-list-link">Node Feature client cmdline reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/versions.html" class="nav-list-link">Versions</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/feature-gates.html" class="nav-list-link">Feature Gates</a></li></ul></li><li class="nav-list-item"><a href="/node-feature-discovery/master/developer-guide/" class="nav-list-link">Developer guide</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/contributing/" class="nav-list-link">Contributing</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Node Feature Discovery" aria-label="Search Node Feature Discovery" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <div class="version-dropdown"> <label for="versions">Version:</label> <select id="versions" onchange="location = this.value;"> <script src="/node-feature-discovery/versions.js"></script> <script> var select = document.getElementById('versions'); var items = getVersionListItems(); for (var i=0; i < items.length; i++) { var opt = document.createElement('option'); opt.appendChild(document.createTextNode(items[i].name)); opt.value = items[i].url; select.appendChild(opt); } </script> </select> </div> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/node-feature-discovery/master/usage/">Usage</a></li> <li class="breadcrumb-nav-list-item"><span>Feature labels</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h1 class="no_toc" id="feature-labels"> <a href="#feature-labels" class="anchor-heading" aria-labelledby="feature-labels"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Feature labels </h1> <h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of contents </h2> <ol id="markdown-toc"> <li><a href="#built-in-labels" id="markdown-toc-built-in-labels">Built-in labels</a> <ol> <li><a href="#cpu" id="markdown-toc-cpu">CPU</a></li> <li><a href="#kernel" id="markdown-toc-kernel">Kernel</a></li> <li><a href="#memory" id="markdown-toc-memory">Memory</a></li> <li><a href="#network" id="markdown-toc-network">Network</a></li> <li><a href="#pci" id="markdown-toc-pci">PCI</a></li> <li><a href="#usb" id="markdown-toc-usb">USB</a></li> <li><a href="#storage" id="markdown-toc-storage">Storage</a></li> <li><a href="#system" id="markdown-toc-system">System</a></li> <li><a href="#custom" id="markdown-toc-custom">Custom</a></li> </ol> </li> <li><a href="#user-defined-labels" id="markdown-toc-user-defined-labels">User defined labels</a></li> <li><a href="#extended-resources" id="markdown-toc-extended-resources">Extended resources</a></li> </ol><hr /> <p>Features are advertised as labels in the Kubernetes Node object.</p> <h2 id="built-in-labels"> <a href="#built-in-labels" class="anchor-heading" aria-labelledby="built-in-labels"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Built-in labels </h2> <p>Label creation in nfd-worker is performed by a set of separate modules called label sources. The <a href="/node-feature-discovery/master/reference/worker-configuration-reference.html#corelabelsources"><code class="language-plaintext highlighter-rouge">core.labelSources</code></a> configuration option (or <a href="/node-feature-discovery/master/reference/worker-commandline-reference.html#-label-sources"><code class="language-plaintext highlighter-rouge">-label-sources</code></a> flag) of nfd-worker controls which sources to enable for label generation.</p> <p>All built-in labels use the <code class="language-plaintext highlighter-rouge">feature.node.kubernetes.io</code> label namespace and have the following format.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>feature.node.kubernetes.io/&lt;feature&gt; = &lt;value&gt;
</code></pre></div></div> <blockquote> <p><strong>NOTE:</strong> Consecutive runs of nfd-worker will update the labels on a given node. If features are not discovered on a consecutive run, the corresponding label will be removed. This includes any restrictions placed on the consecutive run, such as restricting discovered features with the <a href="/node-feature-discovery/master/reference/master-commandline-reference.html#-label-whitelist"><code class="language-plaintext highlighter-rouge">-label-whitelist</code></a> flag of nfd-master or <a href="/node-feature-discovery/master/reference/worker-configuration-reference.html#corelabelwhitelist"><code class="language-plaintext highlighter-rouge">core.labelWhiteList</code></a> option of nfd-worker.</p> </blockquote> <h3 id="cpu"> <a href="#cpu" class="anchor-heading" aria-labelledby="cpu"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> CPU </h3> <div class="table-wrapper"><table> <thead> <tr> <th>Feature name</th> <th>Value</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><strong><code class="language-plaintext highlighter-rouge">cpu-cpuid.&lt;cpuid-flag&gt;</code></strong></td> <td>true</td> <td>CPU capability is supported. <strong>NOTE:</strong> the capability might be supported but not enabled.</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">cpu-cpuid.&lt;cpuid-attribute&gt;</code></strong></td> <td>string</td> <td>CPU attribute value</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">cpu-hardware_multithreading</code></strong></td> <td>true</td> <td>Hardware multithreading, such as Intel HTT, enabled (number of logical CPUs is greater than physical CPUs)</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">cpu-coprocessor.nx_gzip</code></strong></td> <td>true</td> <td>Nest Accelerator for GZIP is supported(Power).</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">cpu-power.sst_bf.enabled</code></strong></td> <td>true</td> <td>Intel SST-BF (<a href="https://www.intel.com/content/www/us/en/architecture-and-technology/speed-select-technology-article.html">Intel Speed Select Technology</a> - Base frequency) enabled</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">cpu-pstate.status</code></strong></td> <td>string</td> <td>The status of the <a href="https://www.kernel.org/doc/Documentation/cpu-freq/intel-pstate.txt">Intel pstate</a> driver when in use and enabled, either ‘active’ or ‘passive’.</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">cpu-pstate.turbo</code></strong></td> <td>bool</td> <td>Set to ‘true’ if turbo frequencies are enabled in Intel pstate driver, set to ‘false’ if they have been disabled.</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">cpu-pstate.scaling_governor</code></strong></td> <td>string</td> <td>The value of the Intel pstate scaling_governor when in use, either ‘powersave’ or ‘performance’.</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">cpu-cstate.enabled</code></strong></td> <td>bool</td> <td>Set to ‘true’ if cstates are set in the intel_idle driver, otherwise set to ‘false’. Unset if intel_idle cpuidle driver is not active.</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">cpu-security.sgx.enabled</code></strong></td> <td>true</td> <td>Set to ‘true’ if Intel SGX is enabled in BIOS (based on a non-zero sum value of SGX EPC section sizes).</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">cpu-security.se.enabled</code></strong></td> <td>true</td> <td>Set to ‘true’ if IBM Secure Execution for Linux (IBM Z &amp; LinuxONE) is available and enabled (requires <code class="language-plaintext highlighter-rouge">/sys/firmware/uv/prot_virt_host</code> facility)</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">cpu-security.tdx.enabled</code></strong></td> <td>true</td> <td>Set to ‘true’ if Intel TDX is available on the host and has been enabled (requires <code class="language-plaintext highlighter-rouge">/sys/module/kvm_intel/parameters/tdx</code>).</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">cpu-security.tdx.protected</code></strong></td> <td>true</td> <td>Set to ‘true’ if Intel TDX was used to start the guest node, based on the existence of the “TDX_GUEST” information as part of cpuid features.</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">cpu-security.sev.enabled</code></strong></td> <td>true</td> <td>Set to ‘true’ if ADM SEV is available on the host and has been enabled (requires <code class="language-plaintext highlighter-rouge">/sys/module/kvm_amd/parameters/sev</code>).</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">cpu-security.sev.es.enabled</code></strong></td> <td>true</td> <td>Set to ‘true’ if ADM SEV-ES is available on the host and has been enabled (requires <code class="language-plaintext highlighter-rouge">/sys/module/kvm_amd/parameters/sev_es</code>).</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">cpu-security.sev.snp.enabled</code></strong></td> <td>true</td> <td>Set to ‘true’ if ADM SEV-SNP is available on the host and has been enabled (requires <code class="language-plaintext highlighter-rouge">/sys/module/kvm_amd/parameters/sev_snp</code>).</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">cpu-model.vendor_id</code></strong></td> <td>string</td> <td>Comparable CPU vendor ID.</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">cpu-model.family</code></strong></td> <td>int</td> <td>CPU family.</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">cpu-model.id</code></strong></td> <td>int</td> <td>CPU model number.</td> </tr> </tbody> </table></div> <p>The CPU label source is configurable, see <a href="/node-feature-discovery/master/usage/nfd-worker.html#worker-configuration">worker configuration</a> and <a href="/node-feature-discovery/master/reference/worker-configuration-reference.html#sourcescpu"><code class="language-plaintext highlighter-rouge">sources.cpu</code></a> configuration options for details.</p> <h4 id="x86-cpuid-flags-partial-list"> <a href="#x86-cpuid-flags-partial-list" class="anchor-heading" aria-labelledby="x86-cpuid-flags-partial-list"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> X86 CPUID flags (partial list) </h4> <div class="table-wrapper"><table> <thead> <tr> <th>Flag</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>ADX</td> <td>Multi-Precision Add-Carry Instruction Extensions (ADX)</td> </tr> <tr> <td>AESNI</td> <td>Advanced Encryption Standard (AES) New Instructions (AES-NI)</td> </tr> <tr> <td>APX_F</td> <td>Intel Advanced Performance Extensions (APX)</td> </tr> <tr> <td>AVX10</td> <td>Intel Advanced Vector Extensions 10 (AVX10)</td> </tr> <tr> <td>AVX10_256, AVX10_512</td> <td>Intel AVX10 256-bit and 512-bit vector support</td> </tr> <tr> <td>AVX</td> <td>Advanced Vector Extensions (AVX)</td> </tr> <tr> <td>AVX2</td> <td>Advanced Vector Extensions 2 (AVX2)</td> </tr> <tr> <td>AVXIFMA</td> <td>AVX-IFMA instructions</td> </tr> <tr> <td>AVXVNNI</td> <td>AVX (VEX encoded) VNNI neural network instructions</td> </tr> <tr> <td>AMXBF16</td> <td>Advanced Matrix Extension, tile multiplication operations on BFLOAT16 numbers</td> </tr> <tr> <td>AMXCOMPLEX</td> <td>Advanced Matrix Extension, tile computational operations on complex numbers</td> </tr> <tr> <td>AMXINT8</td> <td>Advanced Matrix Extension, tile multiplication operations on 8-bit integers</td> </tr> <tr> <td>AMXFP16</td> <td>Advanced Matrix Extension, tile multiplication operations on FP16 numbers</td> </tr> <tr> <td>AMXFP8</td> <td>Advanced Matrix Extension, tile multiplication operations on FP8 numbers</td> </tr> <tr> <td>AMXTILE</td> <td>Advanced Matrix Extension, base tile architecture support</td> </tr> <tr> <td>AMXTF32</td> <td>Advanced Matrix Extension, matrix multiplication of TF32 tiles into packed single precision tile</td> </tr> <tr> <td>AVX512BF16</td> <td>AVX-512 BFLOAT16 instructions</td> </tr> <tr> <td>AVX512BITALG</td> <td>AVX-512 bit Algorithms</td> </tr> <tr> <td>AVX512BW</td> <td>AVX-512 byte and word Instructions</td> </tr> <tr> <td>AVX512CD</td> <td>AVX-512 conflict detection instructions</td> </tr> <tr> <td>AVX512DQ</td> <td>AVX-512 doubleword and quadword instructions</td> </tr> <tr> <td>AVX512ER</td> <td>AVX-512 exponential and reciprocal instructions</td> </tr> <tr> <td>AVX512F</td> <td>AVX-512 foundation</td> </tr> <tr> <td>AVX512FP16</td> <td>AVX-512 FP16 instructions</td> </tr> <tr> <td>AVX512IFMA</td> <td>AVX-512 integer fused multiply-add instructions</td> </tr> <tr> <td>AVX512PF</td> <td>AVX-512 prefetch instructions</td> </tr> <tr> <td>AVX512VBMI</td> <td>AVX-512 vector bit manipulation instructions</td> </tr> <tr> <td>AVX512VBMI2</td> <td>AVX-512 vector bit manipulation instructions, version 2</td> </tr> <tr> <td>AVX512VL</td> <td>AVX-512 vector length extensions</td> </tr> <tr> <td>AVX512VNNI</td> <td>AVX-512 vector neural network instructions</td> </tr> <tr> <td>AVX512VP2INTERSECT</td> <td>AVX-512 intersect for D/Q</td> </tr> <tr> <td>AVX512VPOPCNTDQ</td> <td>AVX-512 vector population count doubleword and quadword</td> </tr> <tr> <td>AVXNECONVERT</td> <td>AVX-NE-CONVERT instructions</td> </tr> <tr> <td>AVXVNNIINT8</td> <td>AVX-VNNI-INT8 instructions</td> </tr> <tr> <td>AVXVNNIINT16</td> <td>AVX-VNNI-INT16 instructions</td> </tr> <tr> <td>CMPCCXADD</td> <td>CMPCCXADD instructions</td> </tr> <tr> <td>ENQCMD</td> <td>Enqueue Command</td> </tr> <tr> <td>GFNI</td> <td>Galois Field New Instructions</td> </tr> <tr> <td>HYPERVISOR</td> <td>Running under hypervisor</td> </tr> <tr> <td>MSRLIST</td> <td>Read/Write List of Model Specific Registers</td> </tr> <tr> <td>PREFETCHI</td> <td>PREFETCHIT0/1 instructions</td> </tr> <tr> <td>VAES</td> <td>AVX-512 vector AES instructions</td> </tr> <tr> <td>VPCLMULQDQ</td> <td>Carry-less multiplication quadword</td> </tr> <tr> <td>WRMSRNS</td> <td>Non-Serializing Write to Model Specific Register</td> </tr> </tbody> </table></div> <p>By default, the following CPUID flags have been blacklisted: AVX10 (use AVX10_VERSION instead), BMI1, BMI2, CLMUL, CMOV, CX16, ERMS, F16C, HTT, LZCNT, MMX, MMXEXT, NX, POPCNT, RDRAND, RDSEED, RDTSCP, SGX, SSE, SSE2, SSE3, SSE4, SSE42, SSSE3 and TDX_GUEST. See <a href="/node-feature-discovery/master/reference/worker-configuration-reference.html#sourcescpu"><code class="language-plaintext highlighter-rouge">sources.cpu</code></a> configuration options to change the behavior.</p> <p>See the full list in <a href="https://github.com/klauspost/cpuid#x86-cpu-instructions">github.com/klauspost/cpuid</a>.</p> <h4 id="x86-cpuid-attributes"> <a href="#x86-cpuid-attributes" class="anchor-heading" aria-labelledby="x86-cpuid-attributes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> X86 CPUID attributes </h4> <div class="table-wrapper"><table> <thead> <tr> <th>Attribute</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>AVX10_VERSION</td> <td>AVX10 vector ISA version (if supported)</td> </tr> </tbody> </table></div> <h4 id="arm-cpuid-flags-partial-list"> <a href="#arm-cpuid-flags-partial-list" class="anchor-heading" aria-labelledby="arm-cpuid-flags-partial-list"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Arm CPUID flags (partial list) </h4> <div class="table-wrapper"><table> <thead> <tr> <th>Flag</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>IDIVA</td> <td>Integer divide instructions available in ARM mode</td> </tr> <tr> <td>IDIVT</td> <td>Integer divide instructions available in Thumb mode</td> </tr> <tr> <td>THUMB</td> <td>Thumb instructions</td> </tr> <tr> <td>FASTMUL</td> <td>Fast multiplication</td> </tr> <tr> <td>VFP</td> <td>Vector floating point instruction extension (VFP)</td> </tr> <tr> <td>VFPv3</td> <td>Vector floating point extension v3</td> </tr> <tr> <td>VFPv4</td> <td>Vector floating point extension v4</td> </tr> <tr> <td>VFPD32</td> <td>VFP with 32 D-registers</td> </tr> <tr> <td>HALF</td> <td>Half-word loads and stores</td> </tr> <tr> <td>EDSP</td> <td>DSP extensions</td> </tr> <tr> <td>NEON</td> <td>NEON SIMD instructions</td> </tr> <tr> <td>LPAE</td> <td>Large Physical Address Extensions</td> </tr> </tbody> </table></div> <h4 id="arm64-cpuid-flags-partial-list"> <a href="#arm64-cpuid-flags-partial-list" class="anchor-heading" aria-labelledby="arm64-cpuid-flags-partial-list"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Arm64 CPUID flags (partial list) </h4> <div class="table-wrapper"><table> <thead> <tr> <th>Flag</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>AES</td> <td>Announcing the Advanced Encryption Standard</td> </tr> <tr> <td>EVSTRM</td> <td>Event Stream Frequency Features</td> </tr> <tr> <td>FPHP</td> <td>Half Precision(16bit) Floating Point Data Processing Instructions</td> </tr> <tr> <td>ASIMDHP</td> <td>Half Precision(16bit) Asimd Data Processing Instructions</td> </tr> <tr> <td>ATOMICS</td> <td>Atomic Instructions to the A64</td> </tr> <tr> <td>ASIMRDM</td> <td>Support for Rounding Double Multiply Add/Subtract</td> </tr> <tr> <td>PMULL</td> <td>Optional Cryptographic and CRC32 Instructions</td> </tr> <tr> <td>JSCVT</td> <td>Perform Conversion to Match Javascript</td> </tr> <tr> <td>DCPOP</td> <td>Persistent Memory Support</td> </tr> </tbody> </table></div> <h3 id="kernel"> <a href="#kernel" class="anchor-heading" aria-labelledby="kernel"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Kernel </h3> <div class="table-wrapper"><table> <thead> <tr> <th>Feature</th> <th>Value</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><strong><code class="language-plaintext highlighter-rouge">kernel-config.&lt;option&gt;</code></strong></td> <td>true</td> <td>Kernel config option is enabled (set ‘y’ or ‘m’). Default options are <code class="language-plaintext highlighter-rouge">NO_HZ</code>, <code class="language-plaintext highlighter-rouge">NO_HZ_IDLE</code>, <code class="language-plaintext highlighter-rouge">NO_HZ_FULL</code> and <code class="language-plaintext highlighter-rouge">PREEMPT</code></td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">kernel-selinux.enabled</code></strong></td> <td>true</td> <td>Selinux is enabled on the node</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">kernel-version.full</code></strong></td> <td>string</td> <td>Full kernel version as reported by <code class="language-plaintext highlighter-rouge">/proc/sys/kernel/osrelease</code> (e.g. ‘4.5.6-7-g123abcde’)</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">kernel-version.major</code></strong></td> <td>string</td> <td>First component of the kernel version (e.g. ‘4’)</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">kernel-version.minor</code></strong></td> <td>string</td> <td>Second component of the kernel version (e.g. ‘5’)</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">kernel-version.revision</code></strong></td> <td>string</td> <td>Third component of the kernel version (e.g. ‘6’)</td> </tr> </tbody> </table></div> <p>The kernel label source is configurable, see <a href="/node-feature-discovery/master/usage/nfd-worker.html#worker-configuration">worker configuration</a> and <a href="/node-feature-discovery/master/reference/worker-configuration-reference.html#sourceskernel"><code class="language-plaintext highlighter-rouge">sources.kernel</code></a> configuration options for details.</p> <h3 id="memory"> <a href="#memory" class="anchor-heading" aria-labelledby="memory"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Memory </h3> <div class="table-wrapper"><table> <thead> <tr> <th>Feature</th> <th>Value</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><strong><code class="language-plaintext highlighter-rouge">memory-numa</code></strong></td> <td>true</td> <td>Multiple memory nodes i.e. NUMA architecture detected</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">memory-nv.present</code></strong></td> <td>true</td> <td>NVDIMM device(s) are present</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">memory-nv.dax</code></strong></td> <td>true</td> <td>NVDIMM region(s) configured in DAX mode are present</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">memory-swap.enabled</code></strong></td> <td>true</td> <td>Swap is enabled on the node</td> </tr> </tbody> </table></div> <h3 id="network"> <a href="#network" class="anchor-heading" aria-labelledby="network"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Network </h3> <div class="table-wrapper"><table> <thead> <tr> <th>Feature</th> <th>Value</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><strong><code class="language-plaintext highlighter-rouge">network-sriov.capable</code></strong></td> <td>true</td> <td><a href="http://www.intel.com/content/www/us/en/pci-express/pci-sig-sr-iov-primer-sr-iov-technology-paper.html">Single Root Input/Output Virtualization</a> (SR-IOV) enabled Network Interface Card(s) present</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">network-sriov.configured</code></strong></td> <td>true</td> <td>SR-IOV virtual functions have been configured</td> </tr> </tbody> </table></div> <h3 id="pci"> <a href="#pci" class="anchor-heading" aria-labelledby="pci"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> PCI </h3> <div class="table-wrapper"><table> <thead> <tr> <th>Feature</th> <th>Value</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><strong><code class="language-plaintext highlighter-rouge">pci-&lt;device label&gt;.present</code></strong></td> <td>true</td> <td>PCI device is detected</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">pci-&lt;device label&gt;.sriov.capable</code></strong></td> <td>true</td> <td><a href="http://www.intel.com/content/www/us/en/pci-express/pci-sig-sr-iov-primer-sr-iov-technology-paper.html">Single Root Input/Output Virtualization</a> (SR-IOV) enabled PCI device present</td> </tr> <tr> <td> </td> <td> </td> <td> </td> </tr> </tbody> </table></div> <p><code class="language-plaintext highlighter-rouge">&lt;device label&gt;</code> is format is configurable and set to <code class="language-plaintext highlighter-rouge">&lt;class&gt;_&lt;vendor&gt;</code> by default. For more more details about configuration of the pci labels, see <a href="/node-feature-discovery/master/reference/worker-configuration-reference.html#sourcespci"><code class="language-plaintext highlighter-rouge">sources.pci</code></a> options and <a href="/node-feature-discovery/master/usage/nfd-worker.html#worker-configuration">worker configuration</a> instructions.</p> <h3 id="usb"> <a href="#usb" class="anchor-heading" aria-labelledby="usb"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> USB </h3> <div class="table-wrapper"><table> <thead> <tr> <th>Feature</th> <th>Value</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><strong><code class="language-plaintext highlighter-rouge">usb-&lt;device label&gt;.present</code></strong></td> <td>true</td> <td>USB device is detected</td> </tr> </tbody> </table></div> <p><code class="language-plaintext highlighter-rouge">&lt;device label&gt;</code> is format is configurable and set to <code class="language-plaintext highlighter-rouge">&lt;class&gt;_&lt;vendor&gt;_&lt;device&gt;</code> by default. For more more details about configuration of the usb labels, see <a href="/node-feature-discovery/master/reference/worker-configuration-reference.html#sourcesusb"><code class="language-plaintext highlighter-rouge">sources.usb</code></a> options and <a href="/node-feature-discovery/master/usage/nfd-worker.html#worker-configuration">worker configuration</a> instructions.</p> <h3 id="storage"> <a href="#storage" class="anchor-heading" aria-labelledby="storage"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Storage </h3> <div class="table-wrapper"><table> <thead> <tr> <th>Feature</th> <th>Value</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><strong><code class="language-plaintext highlighter-rouge">storage-nonrotationaldisk</code></strong></td> <td>true</td> <td>Non-rotational disk, like SSD, is present in the node</td> </tr> </tbody> </table></div> <h3 id="system"> <a href="#system" class="anchor-heading" aria-labelledby="system"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> System </h3> <div class="table-wrapper"><table> <thead> <tr> <th>Feature</th> <th>Value</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><strong><code class="language-plaintext highlighter-rouge">system-os_release.ID</code></strong></td> <td>string</td> <td>Operating system identifier</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">system-os_release.VERSION_ID</code></strong></td> <td>string</td> <td>Operating system version identifier (e.g. ‘6.7’)</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">system-os_release.VERSION_ID.major</code></strong></td> <td>string</td> <td>First component of the OS version id (e.g. ‘6’)</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">system-os_release.VERSION_ID.minor</code></strong></td> <td>string</td> <td>Second component of the OS version id (e.g. ‘7’)</td> </tr> </tbody> </table></div> <h3 id="custom"> <a href="#custom" class="anchor-heading" aria-labelledby="custom"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Custom </h3> <p>The custom label source is designed for creating <a href="#user-defined-labels">user defined labels</a>. However, it has a few statically defined built-in labels:</p> <div class="table-wrapper"><table> <thead> <tr> <th>Feature</th> <th>Value</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><strong><code class="language-plaintext highlighter-rouge">custom-rdma.capable</code></strong></td> <td>true</td> <td>The node has an RDMA capable Network adapter</td> </tr> <tr> <td><strong><code class="language-plaintext highlighter-rouge">custom-rdma.enabled</code></strong></td> <td>true</td> <td>The node has the needed RDMA modules loaded to run RDMA traffic</td> </tr> <tr> <td> </td> <td> </td> <td> </td> </tr> </tbody> </table></div> <h2 id="user-defined-labels"> <a href="#user-defined-labels" class="anchor-heading" aria-labelledby="user-defined-labels"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> User defined labels </h2> <p>NFD has many extension points for creating vendor and application specific labels. See the <a href="/node-feature-discovery/master/usage/customization-guide.html">customization guide</a> for detailed documentation.</p> <h2 id="extended-resources"> <a href="#extended-resources" class="anchor-heading" aria-labelledby="extended-resources"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Extended resources </h2> <p>NFD is able to create extended resources, see the <a href="/node-feature-discovery/master/usage/custom-resources.html#nodefeaturerule">NodeFeatureRule</a> CRD and its <a href="#customization-guide.md#extendedresources">extendedResources</a> field for more details.</p> <p>Note that NFD is not a replacement for the usage of device plugins.</p> <p>An example use-case for extended resources could be based on custom feature (created e.g. with <a href="#customization-guide.md#feature-files">feature files</a> that exposes the node SGX EPC memory section size. This value will then be turned into an extended resource of the node, allowing PODs to request that resource and the Kubernetes scheduler to schedule such PODs to only those nodes which have a sufficient capacity of said resource left.</p> <!-- Links --> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>

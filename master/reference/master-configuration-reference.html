<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/node-feature-discovery/master/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/node-feature-discovery/master/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li:not(:nth-child(3)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(4) > ul > li:nth-child(3) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(4) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(4) > ul > li:nth-child(3) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(4) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(4) > ul.nav-list > li.nav-list-item:nth-child(3) > ul.nav-list { display: block; } </style> <script src="/node-feature-discovery/master/assets/js/vendor/lunr.min.js"></script> <script src="/node-feature-discovery/master/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Master config reference | Node Feature Discovery</title> <meta name="generator" content="Jekyll v3.10.0" /> <meta property="og:title" content="Master config reference" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Documentation of Node Feature Discovery - a Kubernetes add-on for discovering and advertising hardware features and system configuration in the cluster." /> <meta property="og:description" content="Documentation of Node Feature Discovery - a Kubernetes add-on for discovering and advertising hardware features and system configuration in the cluster." /> <link rel="canonical" href="https://kubernetes-sigs.github.com/node-feature-discovery/master/reference/master-configuration-reference.html" /> <meta property="og:url" content="https://kubernetes-sigs.github.com/node-feature-discovery/master/reference/master-configuration-reference.html" /> <meta property="og:site_name" content="Node Feature Discovery" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Master config reference" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Documentation of Node Feature Discovery - a Kubernetes add-on for discovering and advertising hardware features and system configuration in the cluster.","headline":"Master config reference","url":"https://kubernetes-sigs.github.com/node-feature-discovery/master/reference/master-configuration-reference.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/node-feature-discovery/master/" class="site-title lh-tight"> Node Feature Discovery </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Get started category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/node-feature-discovery/master/get-started/" class="nav-list-link">Get started</a><ul class="nav-list"><li class="nav-list-item"><a href="/node-feature-discovery/master/get-started/introduction.html" class="nav-list-link">Introduction</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/get-started/quick-start.html" class="nav-list-link">Quick start</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Deployment category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/node-feature-discovery/master/deployment/" class="nav-list-link">Deployment</a><ul class="nav-list"><li class="nav-list-item"><a href="/node-feature-discovery/master/deployment/image-variants.html" class="nav-list-link">Image variants</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/deployment/kustomize.html" class="nav-list-link">Kustomize</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/deployment/helm.html" class="nav-list-link">Helm</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/deployment/operator.html" class="nav-list-link">NFD Operator</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/deployment/uninstallation.html" class="nav-list-link">Uninstallation</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/deployment/metrics.html" class="nav-list-link">Metrics</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Usage category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/node-feature-discovery/master/usage/" class="nav-list-link">Usage</a><ul class="nav-list"><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/features.html" class="nav-list-link">Feature labels</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/using-labels.html" class="nav-list-link">Using node labels</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/nfd-master.html" class="nav-list-link">NFD-Master</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/nfd-worker.html" class="nav-list-link">NFD-Worker</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/nfd-topology-updater.html" class="nav-list-link">NFD-Topology-Updater</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/nfd-gc.html" class="nav-list-link">NFD-Garbage-Collector</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/custom-resources.html" class="nav-list-link">CRDs</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/customization-guide.html" class="nav-list-link">Customization guide</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/examples-and-demos.html" class="nav-list-link">Examples and demos</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/kubectl-plugin.html" class="nav-list-link">Kubectl plugin</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/image-compatibility.html" class="nav-list-link">Image Compatibility Artifact</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Reference category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/node-feature-discovery/master/reference/" class="nav-list-link">Reference</a><ul class="nav-list"><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/master-commandline-reference.html" class="nav-list-link">Master cmdline reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/worker-commandline-reference.html" class="nav-list-link">Worker cmdline reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/master-configuration-reference.html" class="nav-list-link">Master config reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/worker-configuration-reference.html" class="nav-list-link">Worker config reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/topology-updater-commandline-reference.html" class="nav-list-link">Topology Updater Cmdline Reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/topology-updater-configuration-reference.html" class="nav-list-link">Topology-Updater config reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/gc-commandline-reference.html" class="nav-list-link">Garbage Collector Cmdline Reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/plugin-commandline-reference.html" class="nav-list-link">Kubectl plugin cmdline reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/node-feature-client-reference.html" class="nav-list-link">Node Feature client cmdline reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/versions.html" class="nav-list-link">Versions</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/feature-gates.html" class="nav-list-link">Feature Gates</a></li></ul></li><li class="nav-list-item"><a href="/node-feature-discovery/master/developer-guide/" class="nav-list-link">Developer guide</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/contributing/" class="nav-list-link">Contributing</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Node Feature Discovery" aria-label="Search Node Feature Discovery" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <div class="version-dropdown"> <label for="versions">Version:</label> <select id="versions" onchange="location = this.value;"> <script src="/node-feature-discovery/versions.js"></script> <script> var select = document.getElementById('versions'); var items = getVersionListItems(); for (var i=0; i < items.length; i++) { var opt = document.createElement('option'); opt.appendChild(document.createTextNode(items[i].name)); opt.value = items[i].url; select.appendChild(opt); } </script> </select> </div> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/node-feature-discovery/master/reference/">Reference</a></li> <li class="breadcrumb-nav-list-item"><span>Master config reference</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h1 class="no_toc" id="configuration-file-reference-of-nfd-master"> <a href="#configuration-file-reference-of-nfd-master" class="anchor-heading" aria-labelledby="configuration-file-reference-of-nfd-master"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuration file reference of nfd-master </h1> <h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of contents </h2> <ol id="markdown-toc"> <li><a href="#nopublish" id="markdown-toc-nopublish">noPublish</a></li> <li><a href="#extralabelns" id="markdown-toc-extralabelns">extraLabelNs</a></li> <li><a href="#denylabelns" id="markdown-toc-denylabelns">denyLabelNs</a></li> <li><a href="#enabletaints" id="markdown-toc-enabletaints">enableTaints</a></li> <li><a href="#labelwhitelist" id="markdown-toc-labelwhitelist">labelWhiteList</a></li> <li><a href="#resyncperiod" id="markdown-toc-resyncperiod">resyncPeriod</a></li> <li><a href="#leaderelection" id="markdown-toc-leaderelection">leaderElection</a> <ol> <li><a href="#leaderelectionleaseduration" id="markdown-toc-leaderelectionleaseduration">leaderElection.leaseDuration</a></li> <li><a href="#leaderelectionrenewdeadline" id="markdown-toc-leaderelectionrenewdeadline">leaderElection.renewDeadline</a></li> <li><a href="#leaderelectionretryperiod" id="markdown-toc-leaderelectionretryperiod">leaderElection.retryPeriod</a></li> </ol> </li> <li><a href="#nfdapiparallelism" id="markdown-toc-nfdapiparallelism">nfdApiParallelism</a></li> <li><a href="#informerpagesize" id="markdown-toc-informerpagesize">informerPageSize</a></li> <li><a href="#klog" id="markdown-toc-klog">klog</a> <ol> <li><a href="#klogadddirheader" id="markdown-toc-klogadddirheader">klog.addDirHeader</a></li> <li><a href="#klogalsologtostderr" id="markdown-toc-klogalsologtostderr">klog.alsologtostderr</a></li> <li><a href="#kloglogbacktraceat" id="markdown-toc-kloglogbacktraceat">klog.logBacktraceAt</a></li> <li><a href="#kloglogdir" id="markdown-toc-kloglogdir">klog.logDir</a></li> <li><a href="#kloglogfile" id="markdown-toc-kloglogfile">klog.logFile</a></li> <li><a href="#kloglogfilemaxsize" id="markdown-toc-kloglogfilemaxsize">klog.logFileMaxSize</a></li> <li><a href="#kloglogtostderr" id="markdown-toc-kloglogtostderr">klog.logtostderr</a></li> <li><a href="#klogskipheaders" id="markdown-toc-klogskipheaders">klog.skipHeaders</a></li> <li><a href="#klogskiplogheaders" id="markdown-toc-klogskiplogheaders">klog.skipLogHeaders</a></li> <li><a href="#klogstderrthreshold" id="markdown-toc-klogstderrthreshold">klog.stderrthreshold</a></li> <li><a href="#klogv" id="markdown-toc-klogv">klog.v</a></li> <li><a href="#klogvmodule" id="markdown-toc-klogvmodule">klog.vmodule</a></li> </ol> </li> <li><a href="#restrictions-experimental" id="markdown-toc-restrictions-experimental">restrictions (EXPERIMENTAL)</a> <ol> <li><a href="#restrictionsnodefeaturenamespaceselector" id="markdown-toc-restrictionsnodefeaturenamespaceselector">restrictions.nodeFeatureNamespaceSelector</a></li> <li><a href="#restrictionsdisablelabels" id="markdown-toc-restrictionsdisablelabels">restrictions.disableLabels</a></li> <li><a href="#restrictionsdisableextendedresources" id="markdown-toc-restrictionsdisableextendedresources">restrictions.disableExtendedResources</a></li> <li><a href="#restrictionsdisableannotations" id="markdown-toc-restrictionsdisableannotations">restrictions.disableAnnotations</a></li> <li><a href="#restrictionsallowoverwrite" id="markdown-toc-restrictionsallowoverwrite">restrictions.allowOverwrite</a></li> <li><a href="#restrictionsdenynodefeaturelabels" id="markdown-toc-restrictionsdenynodefeaturelabels">restrictions.denyNodeFeatureLabels</a></li> </ol> </li> </ol><hr /> <p>See the <a href="https://github.com/kubernetes-sigs/node-feature-discovery/blob/master/deployment/components/master-config/nfd-master.conf.example">sample configuration file</a> for a full example configuration.</p> <h2 id="nopublish"> <a href="#nopublish" class="anchor-heading" aria-labelledby="nopublish"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> noPublish </h2> <p><code class="language-plaintext highlighter-rouge">noPublish</code> option disables updates to the Node objects in the Kubernetes API server, making a “dry-run” flag for nfd-master. No Labels, Annotations, Taints or ExtendedResources of nodes are updated.</p> <p>Default: <code class="language-plaintext highlighter-rouge">false</code></p> <p>Example:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">noPublish</span><span class="pi">:</span> <span class="no">true</span>
</code></pre></div></div> <h2 id="extralabelns"> <a href="#extralabelns" class="anchor-heading" aria-labelledby="extralabelns"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> extraLabelNs </h2> <p><code class="language-plaintext highlighter-rouge">extraLabelNs</code> specifies a list of allowed feature label namespaces. This option can be used to allow other vendor or application specific namespaces for custom labels from the local and custom feature sources, even though these labels were denied using the <code class="language-plaintext highlighter-rouge">denyLabelNs</code> parameter.</p> <p>Default: <em>empty</em></p> <p>Example:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">extraLabelNs</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">added.ns.io"</span><span class="pi">,</span><span class="s2">"</span><span class="s">added.kubernets.io"</span><span class="pi">]</span>
</code></pre></div></div> <h2 id="denylabelns"> <a href="#denylabelns" class="anchor-heading" aria-labelledby="denylabelns"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> denyLabelNs </h2> <p><code class="language-plaintext highlighter-rouge">denyLabelNs</code> specifies a list of excluded label namespaces. By default, nfd-master allows creating labels in all namespaces, excluding <code class="language-plaintext highlighter-rouge">kubernetes.io</code> namespace and its sub-namespaces (i.e. <code class="language-plaintext highlighter-rouge">*.kubernetes.io</code>). However, you should note that <code class="language-plaintext highlighter-rouge">kubernetes.io</code> and its sub-namespaces are always denied. This option can be used to exclude some vendors or application specific namespaces.</p> <p>Default: <em>empty</em></p> <p>Example:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">denyLabelNs</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">denied.ns.io"</span><span class="pi">,</span><span class="s2">"</span><span class="s">denied.kubernetes.io"</span><span class="pi">]</span>
</code></pre></div></div> <h2 id="enabletaints"> <a href="#enabletaints" class="anchor-heading" aria-labelledby="enabletaints"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> enableTaints </h2> <p><code class="language-plaintext highlighter-rouge">enableTaints</code> enables/disables node tainting feature of NFD.</p> <p>Default: <em>false</em></p> <p>Example:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">enableTaints</span><span class="pi">:</span> <span class="no">true</span>
</code></pre></div></div> <h2 id="labelwhitelist"> <a href="#labelwhitelist" class="anchor-heading" aria-labelledby="labelwhitelist"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> labelWhiteList </h2> <p><code class="language-plaintext highlighter-rouge">labelWhiteList</code> specifies a regular expression for filtering feature labels based on their name. Each label must match against the given regular expression or it will not be published.</p> <blockquote> <p>** NOTE:** The regular expression is only matches against the “basename” part of the label, i.e. to the part of the name after ‘/’. The label namespace is omitted.</p> </blockquote> <p>Default: <em>empty</em></p> <p>Example:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">labelWhiteList</span><span class="pi">:</span> <span class="s2">"</span><span class="s">foo"</span>
</code></pre></div></div> <h2 id="resyncperiod"> <a href="#resyncperiod" class="anchor-heading" aria-labelledby="resyncperiod"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> resyncPeriod </h2> <p>The <code class="language-plaintext highlighter-rouge">resyncPeriod</code> option specifies the NFD API controller resync period. The resync means nfd-master replaying all NodeFeature and NodeFeatureRule objects, thus effectively re-syncing all nodes in the cluster (i.e. ensuring labels, annotations, extended resources and taints are in place).</p> <p>Default: 1 hour.</p> <p>Example:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">resyncPeriod</span><span class="pi">:</span> <span class="s">2h</span>
</code></pre></div></div> <h2 id="leaderelection"> <a href="#leaderelection" class="anchor-heading" aria-labelledby="leaderelection"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> leaderElection </h2> <p>The <code class="language-plaintext highlighter-rouge">leaderElection</code> section exposes configuration to tweak leader election.</p> <h3 id="leaderelectionleaseduration"> <a href="#leaderelectionleaseduration" class="anchor-heading" aria-labelledby="leaderelectionleaseduration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> leaderElection.leaseDuration </h3> <p><code class="language-plaintext highlighter-rouge">leaderElection.leaseDuration</code> is the duration that non-leader candidates will wait to force acquire leadership. This is measured against time of last observed ack.</p> <p>A client needs to wait a full LeaseDuration without observing a change to the record before it can attempt to take over. When all clients are shutdown and a new set of clients are started with different names against the same leader record, they must wait the full LeaseDuration before attempting to acquire the lease. Thus LeaseDuration should be as short as possible (within your tolerance for clock skew rate) to avoid a possible long waits in the scenario.</p> <p>Default: 15 seconds.</p> <p>Example:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">leaderElection</span><span class="pi">:</span>
  <span class="na">leaseDurtation</span><span class="pi">:</span> <span class="s">15s</span>
</code></pre></div></div> <h3 id="leaderelectionrenewdeadline"> <a href="#leaderelectionrenewdeadline" class="anchor-heading" aria-labelledby="leaderelectionrenewdeadline"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> leaderElection.renewDeadline </h3> <p><code class="language-plaintext highlighter-rouge">leaderElection.renewDeadline</code> is the duration that the acting master will retry refreshing leadership before giving up.</p> <p>This value has to be lower than leaseDuration and greater than retryPeriod*1.2.</p> <p>Default: 10 seconds.</p> <p>Example:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">leaderElection</span><span class="pi">:</span>
  <span class="na">renewDeadline</span><span class="pi">:</span> <span class="s">10s</span>
</code></pre></div></div> <h3 id="leaderelectionretryperiod"> <a href="#leaderelectionretryperiod" class="anchor-heading" aria-labelledby="leaderelectionretryperiod"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> leaderElection.retryPeriod </h3> <p><code class="language-plaintext highlighter-rouge">leaderElection.retryPeriod</code> is the duration the LeaderElector clients should wait between tries of actions.</p> <p>It has to be greater than 0.</p> <p>Default: 2 seconds.</p> <p>Example:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">leaderElection</span><span class="pi">:</span>
  <span class="na">retryPeriod</span><span class="pi">:</span> <span class="s">2s</span>
</code></pre></div></div> <h2 id="nfdapiparallelism"> <a href="#nfdapiparallelism" class="anchor-heading" aria-labelledby="nfdapiparallelism"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> nfdApiParallelism </h2> <p>The <code class="language-plaintext highlighter-rouge">nfdApiParallelism</code> option can be used to specify the maximum number of concurrent node updates.</p> <p>Default: 10</p> <p>Example:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">nfdApiParallelism</span><span class="pi">:</span> <span class="m">1</span>
</code></pre></div></div> <h2 id="informerpagesize"> <a href="#informerpagesize" class="anchor-heading" aria-labelledby="informerpagesize"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> informerPageSize </h2> <p>The <code class="language-plaintext highlighter-rouge">informerPageSize</code> option is used to control pagination during informer cache sync on nfd-master startup. This is useful to control load on api-server/etcd as listing NodeFeature objects can be expensive, especially in large clusters.</p> <p>Default: 200</p> <p>Example:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">informerPageSize</span><span class="pi">:</span> <span class="m">50</span>
</code></pre></div></div> <h2 id="klog"> <a href="#klog" class="anchor-heading" aria-labelledby="klog"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> klog </h2> <p>The following options specify the logger configuration. Most of which can be dynamically adjusted at run-time.</p> <blockquote> <p><strong>NOTE:</strong> The logger options can also be specified via command line flags which take precedence over any corresponding config file options.</p> </blockquote> <h3 id="klogadddirheader"> <a href="#klogadddirheader" class="anchor-heading" aria-labelledby="klogadddirheader"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> klog.addDirHeader </h3> <p>If true, adds the file directory to the header of the log messages.</p> <p>Default: <code class="language-plaintext highlighter-rouge">false</code></p> <p>Run-time configurable: yes</p> <h3 id="klogalsologtostderr"> <a href="#klogalsologtostderr" class="anchor-heading" aria-labelledby="klogalsologtostderr"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> klog.alsologtostderr </h3> <p>Log to standard error as well as files.</p> <p>Default: <code class="language-plaintext highlighter-rouge">false</code></p> <p>Run-time configurable: yes</p> <h3 id="kloglogbacktraceat"> <a href="#kloglogbacktraceat" class="anchor-heading" aria-labelledby="kloglogbacktraceat"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> klog.logBacktraceAt </h3> <p>When logging hits line file:N, emit a stack trace.</p> <p>Default: <em>empty</em></p> <p>Run-time configurable: yes</p> <h3 id="kloglogdir"> <a href="#kloglogdir" class="anchor-heading" aria-labelledby="kloglogdir"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> klog.logDir </h3> <p>If non-empty, write log files in this directory.</p> <p>Default: <em>empty</em></p> <p>Run-time configurable: no</p> <h3 id="kloglogfile"> <a href="#kloglogfile" class="anchor-heading" aria-labelledby="kloglogfile"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> klog.logFile </h3> <p>If non-empty, use this log file.</p> <p>Default: <em>empty</em></p> <p>Run-time configurable: no</p> <h3 id="kloglogfilemaxsize"> <a href="#kloglogfilemaxsize" class="anchor-heading" aria-labelledby="kloglogfilemaxsize"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> klog.logFileMaxSize </h3> <p>Defines the maximum size a log file can grow to. Unit is megabytes. If the value is 0, the maximum file size is unlimited.</p> <p>Default: <code class="language-plaintext highlighter-rouge">1800</code></p> <p>Run-time configurable: no</p> <h3 id="kloglogtostderr"> <a href="#kloglogtostderr" class="anchor-heading" aria-labelledby="kloglogtostderr"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> klog.logtostderr </h3> <p>Log to standard error instead of files</p> <p>Default: <code class="language-plaintext highlighter-rouge">true</code></p> <p>Run-time configurable: yes</p> <h3 id="klogskipheaders"> <a href="#klogskipheaders" class="anchor-heading" aria-labelledby="klogskipheaders"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> klog.skipHeaders </h3> <p>If true, avoid header prefixes in the log messages.</p> <p>Default: <code class="language-plaintext highlighter-rouge">false</code></p> <p>Run-time configurable: yes</p> <h3 id="klogskiplogheaders"> <a href="#klogskiplogheaders" class="anchor-heading" aria-labelledby="klogskiplogheaders"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> klog.skipLogHeaders </h3> <p>If true, avoid headers when opening log files.</p> <p>Default: <code class="language-plaintext highlighter-rouge">false</code></p> <p>Run-time configurable: no</p> <h3 id="klogstderrthreshold"> <a href="#klogstderrthreshold" class="anchor-heading" aria-labelledby="klogstderrthreshold"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> klog.stderrthreshold </h3> <p>Logs at or above this threshold go to stderr (default 2)</p> <p>Run-time configurable: yes</p> <h3 id="klogv"> <a href="#klogv" class="anchor-heading" aria-labelledby="klogv"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> klog.v </h3> <p>Number for the log level verbosity.</p> <p>Default: <code class="language-plaintext highlighter-rouge">0</code></p> <p>Run-time configurable: yes</p> <h3 id="klogvmodule"> <a href="#klogvmodule" class="anchor-heading" aria-labelledby="klogvmodule"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> klog.vmodule </h3> <p>Comma-separated list of <code class="language-plaintext highlighter-rouge">pattern=N</code> settings for file-filtered logging.</p> <p>Default: <em>empty</em></p> <p>Run-time configurable: yes</p> <h2 id="restrictions-experimental"> <a href="#restrictions-experimental" class="anchor-heading" aria-labelledby="restrictions-experimental"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> restrictions (EXPERIMENTAL) </h2> <p>The following options specify the restrictions that can be applied by the nfd-master on the deployed Custom Resources in the cluster.</p> <h3 id="restrictionsnodefeaturenamespaceselector"> <a href="#restrictionsnodefeaturenamespaceselector" class="anchor-heading" aria-labelledby="restrictionsnodefeaturenamespaceselector"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> restrictions.nodeFeatureNamespaceSelector </h3> <p>The <code class="language-plaintext highlighter-rouge">nodeFeatureNamespaceSelector</code> option specifies the NodeFeatures namespaces to watch, which can be selected by using <code class="language-plaintext highlighter-rouge">metav1.LabelSelector</code> as a type for this option. An empty value selects all namespaces to be watched.</p> <p>Default: <em>empty</em></p> <p>Example:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">restrictions</span><span class="pi">:</span>
  <span class="na">nodeFeatureNamespaceSelector</span><span class="pi">:</span>
    <span class="na">matchLabels</span><span class="pi">:</span>
      <span class="na">kubernetes.io/metadata.name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">node-feature-discovery"</span>
    <span class="na">matchExpressions</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">key</span><span class="pi">:</span> <span class="s2">"</span><span class="s">kubernetes.io/metadata.name"</span>
        <span class="na">operator</span><span class="pi">:</span> <span class="s2">"</span><span class="s">In"</span>
        <span class="na">values</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s2">"</span><span class="s">node-feature-discovery"</span>
</code></pre></div></div> <h3 id="restrictionsdisablelabels"> <a href="#restrictionsdisablelabels" class="anchor-heading" aria-labelledby="restrictionsdisablelabels"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> restrictions.disableLabels </h3> <p>The <code class="language-plaintext highlighter-rouge">disableLabels</code> option controls whether to allow creation of node labels from NodeFeature and NodeFeatureRule CRs or not.</p> <p>Default: false</p> <p>Example:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">restrictions</span><span class="pi">:</span>
  <span class="na">disableLabels</span><span class="pi">:</span> <span class="no">true</span>
</code></pre></div></div> <h3 id="restrictionsdisableextendedresources"> <a href="#restrictionsdisableextendedresources" class="anchor-heading" aria-labelledby="restrictionsdisableextendedresources"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> restrictions.disableExtendedResources </h3> <p>The <code class="language-plaintext highlighter-rouge">disableExtendedResources</code> option controls whether to allow creation of node extended resources from NodeFeatureRule CR or not.</p> <p>Default: false</p> <p>Example:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">restrictions</span><span class="pi">:</span>
  <span class="na">disableExtendedResources</span><span class="pi">:</span> <span class="no">true</span>
</code></pre></div></div> <h3 id="restrictionsdisableannotations"> <a href="#restrictionsdisableannotations" class="anchor-heading" aria-labelledby="restrictionsdisableannotations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> restrictions.disableAnnotations </h3> <p>he <code class="language-plaintext highlighter-rouge">disableAnnotations</code> option controls whether to allow creation of node annotations from NodeFeatureRule CR or not.</p> <p>Default: false</p> <p>Example:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">restrictions</span><span class="pi">:</span>
  <span class="na">disableAnnotations</span><span class="pi">:</span> <span class="no">true</span>
</code></pre></div></div> <h3 id="restrictionsallowoverwrite"> <a href="#restrictionsallowoverwrite" class="anchor-heading" aria-labelledby="restrictionsallowoverwrite"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> restrictions.allowOverwrite </h3> <p>The <code class="language-plaintext highlighter-rouge">allowOverwrite</code> option controls whether NFD is allowed to overwrite and take over management of existing node labels, annotations, and extended resources. Labels, annotations and extended resources created by NFD itself are not affected (overwrite cannot be disabled). NFD tracks the labels, annotations and extended resources that it manages with specific <a href="/node-feature-discovery/master/get-started/introduction.html#node-annotations">node annotations</a>.</p> <p>Default: true</p> <p>Example:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">restrictions</span><span class="pi">:</span>
  <span class="na">allowOverwrite</span><span class="pi">:</span> <span class="no">false</span>
</code></pre></div></div> <h3 id="restrictionsdenynodefeaturelabels"> <a href="#restrictionsdenynodefeaturelabels" class="anchor-heading" aria-labelledby="restrictionsdenynodefeaturelabels"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> restrictions.denyNodeFeatureLabels </h3> <p>The <code class="language-plaintext highlighter-rouge">denyNodeFeatureLabels</code> option specifies whether to deny labels from 3rd party NodeFeature objects or not. NodeFeature objects created by nfd-worker are not affected.</p> <p>Default: false</p> <p>Example:</p> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">restrictions</span><span class="pi">:</span>
  <span class="na">denyNodeFeatureLabels</span><span class="pi">:</span> <span class="no">true</span>
</code></pre></div></div> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>

<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/node-feature-discovery/master/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/node-feature-discovery/master/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li:not(:nth-child(2)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(4) > ul > li:nth-child(2) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(4) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(4) > ul > li:nth-child(2) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(4) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(4) > ul.nav-list > li.nav-list-item:nth-child(2) > ul.nav-list { display: block; } </style> <script src="/node-feature-discovery/master/assets/js/vendor/lunr.min.js"></script> <script src="/node-feature-discovery/master/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Worker cmdline reference | Node Feature Discovery</title> <meta name="generator" content="Jekyll v3.10.0" /> <meta property="og:title" content="Worker cmdline reference" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Documentation of Node Feature Discovery - a Kubernetes add-on for discovering and advertising hardware features and system configuration in the cluster." /> <meta property="og:description" content="Documentation of Node Feature Discovery - a Kubernetes add-on for discovering and advertising hardware features and system configuration in the cluster." /> <link rel="canonical" href="https://kubernetes-sigs.github.com/node-feature-discovery/master/reference/worker-commandline-reference.html" /> <meta property="og:url" content="https://kubernetes-sigs.github.com/node-feature-discovery/master/reference/worker-commandline-reference.html" /> <meta property="og:site_name" content="Node Feature Discovery" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Worker cmdline reference" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Documentation of Node Feature Discovery - a Kubernetes add-on for discovering and advertising hardware features and system configuration in the cluster.","headline":"Worker cmdline reference","url":"https://kubernetes-sigs.github.com/node-feature-discovery/master/reference/worker-commandline-reference.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/node-feature-discovery/master/" class="site-title lh-tight"> Node Feature Discovery </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Get started category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/node-feature-discovery/master/get-started/" class="nav-list-link">Get started</a><ul class="nav-list"><li class="nav-list-item"><a href="/node-feature-discovery/master/get-started/introduction.html" class="nav-list-link">Introduction</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/get-started/quick-start.html" class="nav-list-link">Quick start</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Deployment category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/node-feature-discovery/master/deployment/" class="nav-list-link">Deployment</a><ul class="nav-list"><li class="nav-list-item"><a href="/node-feature-discovery/master/deployment/image-variants.html" class="nav-list-link">Image variants</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/deployment/kustomize.html" class="nav-list-link">Kustomize</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/deployment/helm.html" class="nav-list-link">Helm</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/deployment/operator.html" class="nav-list-link">NFD Operator</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/deployment/uninstallation.html" class="nav-list-link">Uninstallation</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/deployment/metrics.html" class="nav-list-link">Metrics</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Usage category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/node-feature-discovery/master/usage/" class="nav-list-link">Usage</a><ul class="nav-list"><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/features.html" class="nav-list-link">Feature labels</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/using-labels.html" class="nav-list-link">Using node labels</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/nfd-master.html" class="nav-list-link">NFD-Master</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/nfd-worker.html" class="nav-list-link">NFD-Worker</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/nfd-topology-updater.html" class="nav-list-link">NFD-Topology-Updater</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/nfd-gc.html" class="nav-list-link">NFD-Garbage-Collector</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/custom-resources.html" class="nav-list-link">CRDs</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/customization-guide.html" class="nav-list-link">Customization guide</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/examples-and-demos.html" class="nav-list-link">Examples and demos</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/kubectl-plugin.html" class="nav-list-link">Kubectl plugin</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/usage/image-compatibility.html" class="nav-list-link">Image Compatibility Artifact</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Reference category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/node-feature-discovery/master/reference/" class="nav-list-link">Reference</a><ul class="nav-list"><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/master-commandline-reference.html" class="nav-list-link">Master cmdline reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/worker-commandline-reference.html" class="nav-list-link">Worker cmdline reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/master-configuration-reference.html" class="nav-list-link">Master config reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/worker-configuration-reference.html" class="nav-list-link">Worker config reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/topology-updater-commandline-reference.html" class="nav-list-link">Topology Updater Cmdline Reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/topology-updater-configuration-reference.html" class="nav-list-link">Topology-Updater config reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/gc-commandline-reference.html" class="nav-list-link">Garbage Collector Cmdline Reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/plugin-commandline-reference.html" class="nav-list-link">Kubectl plugin cmdline reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/node-feature-client-reference.html" class="nav-list-link">Node Feature client cmdline reference</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/versions.html" class="nav-list-link">Versions</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/reference/feature-gates.html" class="nav-list-link">Feature Gates</a></li></ul></li><li class="nav-list-item"><a href="/node-feature-discovery/master/developer-guide/" class="nav-list-link">Developer guide</a></li><li class="nav-list-item"><a href="/node-feature-discovery/master/contributing/" class="nav-list-link">Contributing</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Node Feature Discovery" aria-label="Search Node Feature Discovery" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <div class="version-dropdown"> <label for="versions">Version:</label> <select id="versions" onchange="location = this.value;"> <script src="/node-feature-discovery/versions.js"></script> <script> var select = document.getElementById('versions'); var items = getVersionListItems(); for (var i=0; i < items.length; i++) { var opt = document.createElement('option'); opt.appendChild(document.createTextNode(items[i].name)); opt.value = items[i].url; select.appendChild(opt); } </script> </select> </div> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/node-feature-discovery/master/reference/">Reference</a></li> <li class="breadcrumb-nav-list-item"><span>Worker cmdline reference</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h1 class="no_toc" id="commandline-flags-of-nfd-worker"> <a href="#commandline-flags-of-nfd-worker" class="anchor-heading" aria-labelledby="commandline-flags-of-nfd-worker"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Commandline flags of nfd-worker </h1> <h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of contents </h2> <ol id="markdown-toc"> <li><a href="#-h--help" id="markdown-toc--h--help">-h, -help</a></li> <li><a href="#-version" id="markdown-toc--version">-version</a></li> <li><a href="#-feature-gates" id="markdown-toc--feature-gates">-feature-gates</a></li> <li><a href="#-config" id="markdown-toc--config">-config</a></li> <li><a href="#-options" id="markdown-toc--options">-options</a></li> <li><a href="#-kubeconfig" id="markdown-toc--kubeconfig">-kubeconfig</a></li> <li><a href="#-feature-sources" id="markdown-toc--feature-sources">-feature-sources</a></li> <li><a href="#-label-sources" id="markdown-toc--label-sources">-label-sources</a></li> <li><a href="#-port" id="markdown-toc--port">-port</a></li> <li><a href="#-no-publish" id="markdown-toc--no-publish">-no-publish</a></li> <li><a href="#-no-owner-refs" id="markdown-toc--no-owner-refs">-no-owner-refs</a></li> <li><a href="#-oneshot" id="markdown-toc--oneshot">-oneshot</a></li> <li><a href="#logging" id="markdown-toc-logging">Logging</a></li> </ol><hr /> <p>To quickly view available command line flags execute <code class="language-plaintext highlighter-rouge">nfd-worker -help</code>. In a docker container:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run gcr.io/k8s-staging-nfd/node-feature-discovery:master nfd-worker <span class="nt">-help</span>
</code></pre></div></div> <h3 id="-h--help"> <a href="#-h--help" class="anchor-heading" aria-labelledby="-h--help"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> -h, -help </h3> <p>Print usage and exit.</p> <h3 id="-version"> <a href="#-version" class="anchor-heading" aria-labelledby="-version"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> -version </h3> <p>Print version and exit.</p> <h3 id="-feature-gates"> <a href="#-feature-gates" class="anchor-heading" aria-labelledby="-feature-gates"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> -feature-gates </h3> <p>The <code class="language-plaintext highlighter-rouge">-feature-gates</code> flag is used to enable or disable non GA features. The list of available feature gates can be found in the <a href="/node-feature-discovery/master/reference/feature-gates.html">feature gates documentation</a>.</p> <p>Example:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nfd-master <span class="nt">-feature-gates</span> <span class="nv">NodeFeatureGroupAPI</span><span class="o">=</span><span class="nb">true</span>
</code></pre></div></div> <h3 id="-config"> <a href="#-config" class="anchor-heading" aria-labelledby="-config"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> -config </h3> <p>The <code class="language-plaintext highlighter-rouge">-config</code> flag specifies the path of the nfd-worker configuration file to use.</p> <p>Default: /etc/kubernetes/node-feature-discovery/nfd-worker.conf</p> <p>Example:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nfd-worker <span class="nt">-config</span><span class="o">=</span>/opt/nfd/worker.conf
</code></pre></div></div> <h3 id="-options"> <a href="#-options" class="anchor-heading" aria-labelledby="-options"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> -options </h3> <p>The <code class="language-plaintext highlighter-rouge">-options</code> flag may be used to specify and override configuration file options directly from the command line. The required format is the same as in the config file i.e. JSON or YAML. Configuration options specified via this flag will override those from the configuration file:</p> <p>Default: <em>empty</em></p> <p>Example:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nfd-worker <span class="nt">-options</span><span class="o">=</span><span class="s1">'{"sources":{"cpu":{"cpuid":{"attributeWhitelist":["AVX","AVX2"]}}}}'</span>
</code></pre></div></div> <h3 id="-kubeconfig"> <a href="#-kubeconfig" class="anchor-heading" aria-labelledby="-kubeconfig"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> -kubeconfig </h3> <p>The <code class="language-plaintext highlighter-rouge">-kubeconfig</code> flag specifies the kubeconfig to use for connecting to the Kubernetes API server. It is needed for manipulating <a href="/node-feature-discovery/master/usage/custom-resources.html#nodefeature">NodeFeature</a> objects. An empty value (which is also the default) implies in-cluster kubeconfig.</p> <p>Default: <em>empty</em></p> <p>Example:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nfd-worker <span class="nt">-kubeconfig</span> <span class="k">${</span><span class="nv">HOME</span><span class="k">}</span>/.kube/config
</code></pre></div></div> <h3 id="-feature-sources"> <a href="#-feature-sources" class="anchor-heading" aria-labelledby="-feature-sources"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> -feature-sources </h3> <p>The <code class="language-plaintext highlighter-rouge">-feature-sources</code> flag specifies a comma-separated list of enabled feature sources. A special value <code class="language-plaintext highlighter-rouge">all</code> enables all sources. Prefixing a source name with <code class="language-plaintext highlighter-rouge">-</code> indicates that the source will be disabled instead - this is only meaningful when used in conjunction with <code class="language-plaintext highlighter-rouge">all</code>. This command line flag allows completely disabling the feature detection so that neither standard feature labels are generated nor the raw feature data is available for custom rule processing. Consider using the <code class="language-plaintext highlighter-rouge">core.featureSources</code> config file option, instead, allowing dynamic configurability.</p> <blockquote> <p><strong>NOTE:</strong> This flag takes precedence over the <code class="language-plaintext highlighter-rouge">core.featureSources</code> configuration file option.</p> </blockquote> <p>Default: all</p> <p>Example:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nfd-worker <span class="nt">-feature-sources</span><span class="o">=</span>all,-pci
</code></pre></div></div> <h3 id="-label-sources"> <a href="#-label-sources" class="anchor-heading" aria-labelledby="-label-sources"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> -label-sources </h3> <p>The <code class="language-plaintext highlighter-rouge">-label-sources</code> flag specifies a comma-separated list of enabled label sources. A special value <code class="language-plaintext highlighter-rouge">all</code> enables all sources. Prefixing a source name with <code class="language-plaintext highlighter-rouge">-</code> indicates that the source will be disabled instead - this is only meaningful when used in conjunction with <code class="language-plaintext highlighter-rouge">all</code>. Consider using the <code class="language-plaintext highlighter-rouge">core.labelSources</code> config file option, instead, allowing dynamic configurability.</p> <blockquote> <p><strong>NOTE:</strong> This flag takes precedence over the <code class="language-plaintext highlighter-rouge">core.labelSources</code> configuration file option.</p> </blockquote> <p>Default: all</p> <p>Example:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nfd-worker <span class="nt">-label-sources</span><span class="o">=</span>kernel,system,local
</code></pre></div></div> <h3 id="-port"> <a href="#-port" class="anchor-heading" aria-labelledby="-port"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> -port </h3> <p>The <code class="language-plaintext highlighter-rouge">-port</code> flag specifies the port on which metrics and healthz endpoints are served on.</p> <p>Default: 8080</p> <p>Example:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nfd-worker <span class="nt">-port</span><span class="o">=</span>12345
</code></pre></div></div> <h3 id="-no-publish"> <a href="#-no-publish" class="anchor-heading" aria-labelledby="-no-publish"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> -no-publish </h3> <p>The <code class="language-plaintext highlighter-rouge">-no-publish</code> flag disables all communication with the nfd-master and the Kubernetes API server. It is effectively a “dry-run” flag for nfd-worker. NFD-Worker runs feature detection normally, but no labeling requests are sent to nfd-master and no NodeFeature objects are created or updated in the API server.</p> <blockquote> <p><strong>NOTE:</strong> This flag takes precedence over the <a href="/node-feature-discovery/master/reference/worker-configuration-reference.html#corenopublish"><code class="language-plaintext highlighter-rouge">core.noPublish</code></a> configuration file option.</p> </blockquote> <p>Default: <em>false</em></p> <p>Example:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nfd-worker <span class="nt">-no-publish</span>
</code></pre></div></div> <h3 id="-no-owner-refs"> <a href="#-no-owner-refs" class="anchor-heading" aria-labelledby="-no-owner-refs"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> -no-owner-refs </h3> <p>The <code class="language-plaintext highlighter-rouge">-no-owner-refs</code> flag disables setting the owner references to Pod of the NodeFeature object.</p> <blockquote> <p><strong>NOTE:</strong> This flag takes precedence over the <a href="/node-feature-discovery/master/reference/worker-configuration-reference.html#corenoownerrefs"><code class="language-plaintext highlighter-rouge">core.noOwnerRefs</code></a> configuration file option.</p> </blockquote> <p>Default: <em>false</em></p> <p>Example:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nfd-worker <span class="nt">-no-owner-refs</span>
</code></pre></div></div> <h3 id="-oneshot"> <a href="#-oneshot" class="anchor-heading" aria-labelledby="-oneshot"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> -oneshot </h3> <p>The <code class="language-plaintext highlighter-rouge">-oneshot</code> flag causes nfd-worker to exit after one pass of feature detection.</p> <p>Default: <em>false</em></p> <p>Example:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nfd-worker <span class="nt">-oneshot</span> <span class="nt">-no-publish</span>
</code></pre></div></div> <h3 id="logging"> <a href="#logging" class="anchor-heading" aria-labelledby="logging"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Logging </h3> <p>The following logging-related flags are inherited from the <a href="https://pkg.go.dev/k8s.io/klog/v2">klog</a> package.</p> <blockquote> <p><strong>NOTE:</strong> The logger setup can also be specified via the <code class="language-plaintext highlighter-rouge">core.klog</code> configuration file options. However, the command line flags take precedence over any corresponding config file options specified.</p> </blockquote> <h4 id="-add_dir_header"> <a href="#-add_dir_header" class="anchor-heading" aria-labelledby="-add_dir_header"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> -add_dir_header </h4> <p>If true, adds the file directory to the header of the log messages.</p> <p>Default: false</p> <h4 id="-alsologtostderr"> <a href="#-alsologtostderr" class="anchor-heading" aria-labelledby="-alsologtostderr"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> -alsologtostderr </h4> <p>Log to standard error as well as files.</p> <p>Default: false</p> <h4 id="-log_backtrace_at"> <a href="#-log_backtrace_at" class="anchor-heading" aria-labelledby="-log_backtrace_at"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> -log_backtrace_at </h4> <p>When logging hits line file:N, emit a stack trace.</p> <p>Default: <em>empty</em></p> <h4 id="-log_dir"> <a href="#-log_dir" class="anchor-heading" aria-labelledby="-log_dir"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> -log_dir </h4> <p>If non-empty, write log files in this directory.</p> <p>Default: <em>empty</em></p> <h4 id="-log_file"> <a href="#-log_file" class="anchor-heading" aria-labelledby="-log_file"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> -log_file </h4> <p>If non-empty, use this log file.</p> <p>Default: <em>empty</em></p> <h4 id="-log_file_max_size"> <a href="#-log_file_max_size" class="anchor-heading" aria-labelledby="-log_file_max_size"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> -log_file_max_size </h4> <p>Defines the maximum size a log file can grow to. Unit is megabytes. If the value is 0, the maximum file size is unlimited.</p> <p>Default: 1800</p> <h4 id="-logtostderr"> <a href="#-logtostderr" class="anchor-heading" aria-labelledby="-logtostderr"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> -logtostderr </h4> <p>Log to standard error instead of files</p> <p>Default: true</p> <h4 id="-skip_headers"> <a href="#-skip_headers" class="anchor-heading" aria-labelledby="-skip_headers"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> -skip_headers </h4> <p>If true, avoid header prefixes in the log messages.</p> <p>Default: false</p> <h4 id="-skip_log_headers"> <a href="#-skip_log_headers" class="anchor-heading" aria-labelledby="-skip_log_headers"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> -skip_log_headers </h4> <p>If true, avoid headers when opening log files.</p> <p>Default: false</p> <h4 id="-stderrthreshold"> <a href="#-stderrthreshold" class="anchor-heading" aria-labelledby="-stderrthreshold"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> -stderrthreshold </h4> <p>Logs at or above this threshold go to stderr.</p> <p>Default: 2</p> <h4 id="-v"> <a href="#-v" class="anchor-heading" aria-labelledby="-v"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> -v </h4> <p>Number for the log level verbosity.</p> <p>Default: 0</p> <h4 id="-vmodule"> <a href="#-vmodule" class="anchor-heading" aria-labelledby="-vmodule"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> -vmodule </h4> <p>Comma-separated list of <code class="language-plaintext highlighter-rouge">pattern=N</code> settings for file-filtered logging.</p> <p>Default: <em>empty</em></p> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
